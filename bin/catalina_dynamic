#!/bin/bash

###
# Catalina Dynamic Wallpaper autostart script.
# https://github.com/caglarturali/catalina-dynamic-wallpaper-kde
##

# Base directory for images.
_base_dir="${HOME}/.local/share/wallpapers/CatalinaDynamic/contents"

# Keep looping.
while true; do
    _hour=$(date +%H)
    if [[ "$_old_hour" != "$_hour" ]]; then
        ~/bin/ksetwallpaper "$_base_dir/images/hourly/$_hour.jpg"
        ln -fs "$_base_dir/images/hourly/$_hour.jpg" "$_base_dir/images/3840x3840.jpg"
    fi
    _old_hour=$_hour
    sleep 1m
done
